




<div class="container-fluid page-body-wrapper">

  <div class="main-panel" style="width: 100%; position: relative; overflow: visible;">

    <!-- <div class="container-fluid">
      <div class="row">
        <div class="col-sm-2">
<b>Rakes Tracks</b>
        </div>
        <div class="col-sm-2">


        </div>
        <div class="col-sm-4">

        </div>
        <div class="col-sm-2">

        </div>
        <div class="col-sm-2">

        </div>
      </div>
    </div> -->
    <!-- style="display: flex;flex-direction: row;justify-content: space-between;" -->

    <div class="container-details" >

      <div class="row">
        <div class="col-sm-1">   <div class="header"></div>

        <button class="btn btn-secondary"  (click)="getBack()">Back</button>

      </div>


      <div class="col-sm-3">
        <div class="dates-section" style="background-color: aliceblue; font-size: 12px;">
          <p>Prism Destination :  {{allTransitDetails[allTransitDetails.length-1]['erP_Destination_Name'] }}   </p>

          <p>Destination :  {{allTransitDetails[allTransitDetails.length-1]['stationTo'] }}   </p>

          <!-- <p>Expected Hourse :  {{allTransitDetails[allTransitDetails.length-1]['expected_Hours'] }}   </p> -->
        </div>
       </div>


     <div class="col-sm-3">
      <div class="dates-section">
        <div class="dates">
            <p>Start Date:  {{allTransitDetails[allTransitDetails.length-1]['creationdate'] | date:'dd MMM yyyy , hh:mm a' }}</p>
            <p>Eastimated Date: {{allTransitDetails[allTransitDetails.length-1]['etaDstinationDateTime'] }}</p>
        </div>
    </div>
     </div>

     <div class="col-sm-3">
      <div class="delivery-info">
        <p>Current:  {{currentLocation}}</p>

      </div>
      <!-- <p style="padding: 1px;background-color: aliceblue;">Updated {{ timeAgo }} </p> -->
     </div>
     <div class="col-sm-2">
      <div class="dates-section">
        <div class="dates">
            <p>FNR:  {{allTransitDetails[allTransitDetails.length-1]['fnrNo']}}</p>

            <p style="font-size: 11px;">Last Update:  {{allTransitDetails[allTransitDetails.length-1]['currentUpdateDateByUlip'] |  date:'dd MMM yyyy , hh:mm a'}}</p>
           <!-- <p style="padding: 1px;background-color: aliceblue;">Updated {{ timeAgo }} </p> -->
        </div>
    </div>
     </div>

      </div>


  </div>

  <div class="container-fluid">


    <div class="card-container">
      <!-- <div class="d-flex justify-content-start mb-3">

        <label class="me-3">
          <input type="radio" [(ngModel)]="viewMode" value="map" checked class="custom-radio"> Map
        </label>
        <label>
          <input type="radio" [(ngModel)]="viewMode" value="details"  class="custom-radio"> Details
        </label>
      </div> -->

    <mat-divider></mat-divider>

      <!-- Show map or details based on selected radio button -->

<div class="container">
  <div class="row">
    <div class="col-sm-9">
      <div id="map"  style="height: 450px; width:100%;" ></div>
    </div>

    <div class="col-sm-3"  >

     <div class="rail-tracking">
          <div class="header">
            <h5 class="typing-text"><p>Expected Hourse :  {{allTransitDetails[allTransitDetails.length-1]['expected_Hours'] }}   </p></h5>

          </div>

          <div class="stationstimeline" style="height: 400px;overflow: scroll;">

            <div *ngFor="let station of allTransitDetails; let i = index" class="station" [ngClass]="{ 'current': i === allTransitDetails.length-1}">


              <div class="icon-container" *ngIf="i < allTransitDetails.length - 1">
                <mat-icon class="station-icon">check_circle</mat-icon>
              </div>

              <div class="station-info">


                <span>{{ station.currentStatus }}</span>

              </div>
              <div class="times">
                <!-- <span>Arrival: {{ station.arrival }}</span>
                <span>Departure: {{ station.departure }}</span> -->
              </div>
            </div>

          </div>




      </div>
    </div>

  </div>
</div>




      <!-- Placeholder for map -->
      <div >



      </div>







    </div>

  </div>


  <!-- <div id="map"></div> -->
  <!-- <div class="blinking-marker" style="width: 40px; height: 40px; background-image: url(https://via.placeholder.com/40); background-size: contain;"></div> -->
</div>






